#!/usr/bin/lua5.1

local pretty = require("pl.pretty")

local repository = require("fimbul.repository")
local campaign = require("fimbul.campaign")

local r = repository:new(arg[1])
r:load()

local c = campaign:new(r)

local cal = c:calendar()

pretty.dump(cal)
pretty.dump(c:today())

local today = c:today()
local tomorrow = cal:add(today, {days = 1})
local overmorrow = cal:add(today, {days = 2})

pretty.dump(today:tostring())
pretty.dump(tomorrow:tostring())
pretty.dump(overmorrow:tostring())
